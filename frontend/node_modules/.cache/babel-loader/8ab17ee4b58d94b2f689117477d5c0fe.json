{"ast":null,"code":"var _jsxFileName = \"/Users/vbondarets/Desktop/ucode-chronos/frontend/vbondarets/usof-client/src/components/UserForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport UserSevice from '../API/UserService';\nimport MyInput from '../components/UI/input/MyInput';\nimport { useFetching } from '../hooks/useFetching';\nimport MyButton from './UI/button/MyButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserForm = _ref => {\n  _s();\n\n  let {\n    userData,\n    fetchFunc,\n    callback,\n    actionTitle\n  } = _ref;\n  const isAuth = useSelector(state => state);\n  const [login, setLogin] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [message, setMesage] = useState('');\n  const [user, setUser] = useState({});\n  const [fetchUser, isUserLoading, userError] = useFetching(async () => {\n    let response = await UserSevice.getUserById(isAuth.user.id);\n    setLogin(response.data.user[0].login);\n    setEmail(isAuth.user.email);\n    setPassword(response.data.user[0].password);\n    setFullName(response.data.user[0].fullName);\n    setUser(response.data.user[0]);\n  });\n  useEffect(() => {\n    if (actionTitle === \"Edit\") {\n      fetchUser();\n    }\n  }, []);\n\n  const sendReqReg = e => {\n    console.log(\"registration...\");\n    e.preventDefault();\n\n    if (login, email, password, fullName) {\n      const User = {\n        login: login,\n        email: email,\n        password: password,\n        fullName: fullName\n      };\n      fetchFunc(User, setLogin, setEmail, setPassword, setFullName, setMesage);\n    } else {\n      setMesage(\"Fill all fields pls\");\n      return;\n    }\n  };\n\n  const sendReqEdit = e => {\n    console.log(\"edit...\");\n    e.preventDefault();\n\n    if (login, email, password, fullName) {\n      const User = {\n        login: login,\n        email: email,\n        password: password,\n        fullName: fullName,\n        role: user.role,\n        rating: user.rating\n      };\n      fetchFunc(isAuth.user.id, User, setLogin, setEmail, setPassword, setFullName, setMesage);\n    }\n  };\n\n  if (actionTitle === \"Register\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: actionTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        type: \"text\",\n        placeholder: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n        value: login,\n        onChange: e => setLogin(e.target.value),\n        type: \"text\",\n        placeholder: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n        value: fullName,\n        onChange: e => setFullName(e.target.value),\n        type: \"text\",\n        placeholder: \"Full Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n        onClick: e => sendReqReg(e),\n        children: actionTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  } else if (actionTitle === \"Edit\") {\n    return (\n      /*#__PURE__*/\n      // {console.log()}\n      _jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: actionTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          type: \"text\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n          value: login,\n          onChange: e => setLogin(e.target.value),\n          type: \"text\",\n          placeholder: \"login\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          placeholder: \"Password\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MyInput, {\n          value: fullName,\n          onChange: e => setFullName(e.target.value),\n          type: \"text\",\n          placeholder: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n          onClick: e => sendReqEdit(e),\n          children: actionTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)\n    );\n  }\n};\n\n_s(UserForm, \"kih/8VzXm2BLlUIg2dmjGD5JLFo=\", false, function () {\n  return [useSelector, useFetching];\n});\n\n_c = UserForm;\nexport default UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","UserSevice","MyInput","useFetching","MyButton","UserForm","userData","fetchFunc","callback","actionTitle","isAuth","state","login","setLogin","email","setEmail","password","setPassword","fullName","setFullName","message","setMesage","user","setUser","fetchUser","isUserLoading","userError","response","getUserById","id","data","sendReqReg","e","console","log","preventDefault","User","sendReqEdit","role","rating","target","value"],"sources":["/Users/vbondarets/Desktop/ucode-chronos/frontend/vbondarets/usof-client/src/components/UserForm.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport UserSevice from '../API/UserService';\nimport MyInput from '../components/UI/input/MyInput';\nimport { useFetching } from '../hooks/useFetching';\nimport MyButton from './UI/button/MyButton';\n\n\nconst UserForm = ({ userData, fetchFunc, callback, actionTitle }) => {\n    const isAuth = useSelector(state => state);\n    const [login, setLogin] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [fullName, setFullName] = useState('');\n    const [message, setMesage] = useState('');\n    const [user, setUser] = useState({});\n\n\n    const [fetchUser, isUserLoading, userError] = useFetching(async () => {\n        let response = await UserSevice.getUserById(isAuth.user.id);\n        setLogin(response.data.user[0].login);\n        setEmail(isAuth.user.email);\n        setPassword(response.data.user[0].password);\n        setFullName(response.data.user[0].fullName);\n        setUser(response.data.user[0]);\n      });\n\n    useEffect(() => {\n        if(actionTitle === \"Edit\"){\n            fetchUser();\n        }\n    }, [])\n    const sendReqReg = (e) => {\n        console.log(\"registration...\")\n        e.preventDefault();\n        if (login, email, password, fullName) {\n            const User = {\n                login: login,\n                email: email,\n                password: password,\n                fullName: fullName\n            }\n            fetchFunc(User, setLogin, setEmail, setPassword, setFullName, setMesage);\n        }\n        else {\n            setMesage(\"Fill all fields pls\");\n            return;\n        }\n    }\n    const sendReqEdit = (e) => {\n        console.log(\"edit...\")\n        e.preventDefault();\n        if (login, email, password, fullName) {\n            const User = {\n                login: login,\n                email: email,\n                password: password,\n                fullName: fullName,\n                role: user.role,\n                rating: user.rating\n            }\n            fetchFunc(isAuth.user.id, User, setLogin, setEmail, setPassword, setFullName, setMesage);\n        }\n    }\n    if (actionTitle === \"Register\") {\n        return (\n            <div>\n                <h1>{actionTitle}</h1>\n\n                <MyInput\n                    value={email}\n                    onChange={e => setEmail(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"email\"\n                />\n                <MyInput\n                    value={login}\n                    onChange={e => setLogin(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"login\"\n                />\n                <MyInput\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                />\n                <MyInput\n                    value={fullName}\n                    onChange={e => setFullName(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                />\n                <h3>{message}</h3>\n                <MyButton onClick={e => sendReqReg(e)}>{actionTitle}</MyButton>\n            </div>\n        )\n    }\n    else if (actionTitle === \"Edit\") {\n        return (\n            // {console.log()}\n            <form>\n                <h1>{actionTitle}</h1>\n                <MyInput\n                    value={email}\n                    onChange={e => setEmail(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"email\"\n                />\n                <MyInput\n                    value={login}\n                    onChange={e => setLogin(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"login\"\n                    disabled\n                />\n                <MyInput\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    disabled\n                />\n                <MyInput\n                    value={fullName}\n                    onChange={e => setFullName(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                />\n                <h3>{message}</h3>\n                <MyButton onClick={e => sendReqEdit(e)}>{actionTitle}</MyButton>\n            </form>\n        )\n    }\n\n}\n\nexport default UserForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}