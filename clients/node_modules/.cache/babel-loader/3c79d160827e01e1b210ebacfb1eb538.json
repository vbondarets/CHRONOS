{"ast":null,"code":"import { createCat, delCategory, getCategory } from \"../api/CategoryApi\";\nexport const getCategories = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await getCategory();\n    return dispatch({\n      type: 'getCategory',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createCategory = title => async dispatch => {\n  try {\n    const {\n      data\n    } = await createCat(title);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getCategory();\n      return dispatch({\n        type: 'createCategory',\n        payload: Data.data.result\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteCategory = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await delCategory(id);\n\n    if (data.message === 'Category was deleted') {\n      const Data = await getCategory();\n      return dispatch({\n        type: 'deleteCategory',\n        payload: Data.data.result\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["createCat","delCategory","getCategory","getCategories","dispatch","data","type","payload","result","error","console","log","createCategory","title","affectedRows","Data","deleteCategory","id","message"],"sources":["/home/firemort/Рабочий стол/Fullstack/back-front/idashchenk/clients/src/action/CategoryAction.js"],"sourcesContent":["import { createCat, delCategory, getCategory } from \"../api/CategoryApi\"\n\nexport const getCategories = () => async(dispatch) => {\n    try {\n        const {data} = await getCategory()\n        return dispatch({type:'getCategory', payload:data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const createCategory = (title) => async(dispatch) => {\n    try {\n        const {data} = await createCat(title) \n        if (data.result.affectedRows > 0) {\n            const Data = await getCategory()\n            return dispatch({type:'createCategory', payload:Data.data.result})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const deleteCategory = (id) => async(dispatch) => {\n    try {\n        const {data} = await delCategory(id)\n        if (data.message === 'Category was deleted') {\n            const Data = await getCategory()\n            return dispatch({type:'deleteCategory', payload: Data.data.result})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,WAAjC,QAAoD,oBAApD;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAMC,QAAN,IAAmB;EAClD,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMH,WAAW,EAAhC;IACA,OAAOE,QAAQ,CAAC;MAACE,IAAI,EAAC,aAAN;MAAqBC,OAAO,EAACF,IAAI,CAACG;IAAlC,CAAD,CAAf;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAPM;AASP,OAAO,MAAMG,cAAc,GAAIC,KAAD,IAAW,MAAMT,QAAN,IAAmB;EACxD,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAML,SAAS,CAACa,KAAD,CAA9B;;IACA,IAAIR,IAAI,CAACG,MAAL,CAAYM,YAAZ,GAA2B,CAA/B,EAAkC;MAC9B,MAAMC,IAAI,GAAG,MAAMb,WAAW,EAA9B;MACA,OAAOE,QAAQ,CAAC;QAACE,IAAI,EAAC,gBAAN;QAAwBC,OAAO,EAACQ,IAAI,CAACV,IAAL,CAAUG;MAA1C,CAAD,CAAf;IACH;EACJ,CAND,CAME,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAVM;AAYP,OAAO,MAAMO,cAAc,GAAIC,EAAD,IAAQ,MAAMb,QAAN,IAAmB;EACrD,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMJ,WAAW,CAACgB,EAAD,CAAhC;;IACA,IAAIZ,IAAI,CAACa,OAAL,KAAiB,sBAArB,EAA6C;MACzC,MAAMH,IAAI,GAAG,MAAMb,WAAW,EAA9B;MACA,OAAOE,QAAQ,CAAC;QAACE,IAAI,EAAC,gBAAN;QAAwBC,OAAO,EAAEQ,IAAI,CAACV,IAAL,CAAUG;MAA3C,CAAD,CAAf;IACH;EACJ,CAND,CAME,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAVM"},"metadata":{},"sourceType":"module"}