{"ast":null,"code":"import { delUser, getAllU, getRating, getUserById, updateAva, updateinfo } from \"../api/UserApi\";\nexport const getUser = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await getUserById(id);\n    return dispatch({\n      type: 'getUser',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getAllUsers = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await getAllU();\n    return dispatch({\n      type: 'getAllUsers',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getRatingUser = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await getRating(id);\n    return dispatch({\n      type: 'getrating',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const UpdateUser = (id, login, email, full_name, password, avatar, role) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateinfo(id, login, email, full_name, password, avatar, role);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getUserById(id);\n      return dispatch({\n        type: 'updateUser',\n        payload: Data.data.result\n      });\n    }\n\n    console.log(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const UpdateAvatar = (id, photo) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateAva(id, photo);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getUserById(id);\n      return dispatch({\n        type: 'updateAvatar',\n        payload: Data.data.result\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteUser = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await delUser(id);\n    console.log(data);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getAllU();\n      console.log(Data);\n      return dispatch({\n        type: 'deleteUser',\n        payload: Data.data.result\n      });\n    }\n  } catch (error) {}\n};","map":{"version":3,"names":["delUser","getAllU","getRating","getUserById","updateAva","updateinfo","getUser","id","dispatch","data","type","payload","result","error","console","log","getAllUsers","getRatingUser","UpdateUser","login","email","full_name","password","avatar","role","affectedRows","Data","UpdateAvatar","photo","deleteUser"],"sources":["/home/firemort/Рабочий стол/Fullstack/back-front/idashchenk/clients/src/action/UserAction.js"],"sourcesContent":["import { delUser, getAllU, getRating, getUserById, updateAva, updateinfo } from \"../api/UserApi\"\n\nexport const getUser = (id) => async(dispatch) => {\n    try {\n        const {data} = await getUserById(id)\n        return dispatch({type:'getUser', payload:data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getAllUsers = () => async(dispatch) => {\n    try {\n        const {data} = await getAllU()\n        return dispatch({type:'getAllUsers', payload: data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getRatingUser = (id) => async(dispatch) => {\n    try {\n        const {data} = await getRating(id)\n        return dispatch({type:'getrating', payload: data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const UpdateUser = (id,login,email,full_name,password,avatar,role) => async(dispatch) => {\n    try {\n        const {data} = await updateinfo(id,login,email,full_name,password,avatar,role)\n        if (data.result.affectedRows > 0) {\n            const Data = await getUserById(id)\n            return dispatch({type:'updateUser', payload:Data.data.result})\n        }\n        console.log(data);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const UpdateAvatar = (id, photo) => async(dispatch) => {\n    try {\n        const {data} = await updateAva(id, photo)\n        if (data.result.affectedRows > 0) {\n            const Data = await getUserById(id)\n            return dispatch({type:'updateAvatar', payload:Data.data.result})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const deleteUser = (id) => async(dispatch) => {\n    try {\n        const {data} = await delUser(id)\n        console.log(data);\n        if (data.result.affectedRows > 0) {\n            const Data = await getAllU()\n            console.log(Data);\n            return dispatch({type:'deleteUser', payload:Data.data.result})\n        }\n    } catch (error) {\n        \n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}