{"ast":null,"code":"var _jsxFileName = \"/home/firemort/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Fullstack/CHRONOS/Chronos2/CHRONOS/clients/src/components/forms/ShareEventForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllUsers } from \"../../action/UserAction\";\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport style from '../UI/button/MyButton.module.css';\nimport { ShareCalendar } from \"../../action/CalendarAction\";\nimport jwt_decode from 'jwt-decode';\nimport { ShareEvent } from \"../../action/EventAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ShareEventForm = _ref => {\n  _s();\n\n  let {\n    event_id\n  } = _ref;\n  const UserStore = useSelector(store => store.User);\n  const auth = useSelector(state => state.Auth);\n  const [message, setMessage] = useState(false);\n  const tokenn = auth.token;\n  let decode, user_id;\n  decode = jwt_decode(tokenn);\n  user_id = decode.id;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAllUsers());\n  }, [dispatch]);\n  let AllUsers = UserStore.allUsers;\n\n  if (AllUsers === undefined) {\n    AllUsers = [];\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Share event with users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), AllUsers.map(users => {\n      if (users.id != user_id) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              border: '1px solid black',\n              padding: '5px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              fontSize: '20px'\n            },\n            children: [users.login, \" \", /*#__PURE__*/_jsxDEV(AddBoxIcon, {\n              onClick: () => {\n                dispatch(ShareEvent(event_id, user.id, calendar_id));\n                setMessage(true);\n              },\n              className: style.ShareButton\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 57\n            }, this)]\n          }, users.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this), message === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'green'\n            },\n            children: \"Invite was sent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 45\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true);\n      }\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ShareEventForm, \"as7CArKmrdfhW3pGcr78OyYHxeo=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = ShareEventForm;\nexport default ShareEventForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShareEventForm\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getAllUsers","AddBoxIcon","style","ShareCalendar","jwt_decode","ShareEvent","ShareEventForm","event_id","UserStore","store","User","auth","state","Auth","message","setMessage","tokenn","token","decode","user_id","id","dispatch","AllUsers","allUsers","undefined","map","users","border","padding","display","alignItems","justifyContent","fontSize","login","user","calendar_id","ShareButton","color"],"sources":["/home/firemort/Рабочий стол/Fullstack/CHRONOS/Chronos2/CHRONOS/clients/src/components/forms/ShareEventForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllUsers } from \"../../action/UserAction\";\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport style from '../UI/button/MyButton.module.css'\nimport { ShareCalendar } from \"../../action/CalendarAction\";\nimport jwt_decode from 'jwt-decode'\nimport { ShareEvent } from \"../../action/EventAction\";\n\nconst ShareEventForm = ({event_id}) => {\n    const UserStore = useSelector(store => store.User)\n    const auth = useSelector(state=>state.Auth)\n    const [message, setMessage] = useState(false)\n\n    const tokenn = auth.token\n    let decode, user_id\n    decode = jwt_decode(tokenn)\n    user_id = decode.id\n    \n    const dispatch = useDispatch()\n    useEffect ( () => {\n        dispatch(getAllUsers())\n    },[dispatch])\n\n    let AllUsers = UserStore.allUsers\n    if (AllUsers === undefined) {\n        AllUsers = []\n    }\n    return ( \n        <div>\n            <h1>Share event with users</h1>\n            {AllUsers.map( users => {\n                if (users.id != user_id) {\n                    return(\n                    <>\n                        <p style={{\n                            border:'1px solid black',\n                            padding:'5px',\n                            display:'flex',\n                            alignItems:'center',\n                            justifyContent:'space-between',\n                            fontSize:'20px'\n                        }} key={users.id}>{users.login} <AddBoxIcon onClick = {\n                            () => {\n                                dispatch(ShareEvent(event_id, user.id, calendar_id))\n                                setMessage(true)\n                            }\n                        } className={style.ShareButton}></AddBoxIcon></p>\n                        {message === true ? <p style={{color:'green'}}>Invite was sent</p> : <></>}\n                    </>\n                    )\n                }\n            })}\n        </div>\n    )\n}\n\nexport default ShareEventForm"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,KAAP,MAAkB,kCAAlB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;;;AAEA,MAAMC,cAAc,GAAG,QAAgB;EAAA;;EAAA,IAAf;IAACC;EAAD,CAAe;EACnC,MAAMC,SAAS,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAA7B;EACA,MAAMC,IAAI,GAAGZ,WAAW,CAACa,KAAK,IAAEA,KAAK,CAACC,IAAd,CAAxB;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;EAEA,MAAMmB,MAAM,GAAGL,IAAI,CAACM,KAApB;EACA,IAAIC,MAAJ,EAAYC,OAAZ;EACAD,MAAM,GAAGd,UAAU,CAACY,MAAD,CAAnB;EACAG,OAAO,GAAGD,MAAM,CAACE,EAAjB;EAEA,MAAMC,QAAQ,GAAGvB,WAAW,EAA5B;EACAF,SAAS,CAAG,MAAM;IACdyB,QAAQ,CAACrB,WAAW,EAAZ,CAAR;EACH,CAFQ,EAEP,CAACqB,QAAD,CAFO,CAAT;EAIA,IAAIC,QAAQ,GAAGd,SAAS,CAACe,QAAzB;;EACA,IAAID,QAAQ,KAAKE,SAAjB,EAA4B;IACxBF,QAAQ,GAAG,EAAX;EACH;;EACD,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKA,QAAQ,CAACG,GAAT,CAAcC,KAAK,IAAI;MACpB,IAAIA,KAAK,CAACN,EAAN,IAAYD,OAAhB,EAAyB;QACrB,oBACA;UAAA,wBACI;YAAG,KAAK,EAAE;cACNQ,MAAM,EAAC,iBADD;cAENC,OAAO,EAAC,KAFF;cAGNC,OAAO,EAAC,MAHF;cAINC,UAAU,EAAC,QAJL;cAKNC,cAAc,EAAC,eALT;cAMNC,QAAQ,EAAC;YANH,CAAV;YAAA,WAOmBN,KAAK,CAACO,KAPzB,oBAOgC,QAAC,UAAD;cAAY,OAAO,EAC/C,MAAM;gBACFZ,QAAQ,CAAChB,UAAU,CAACE,QAAD,EAAW2B,IAAI,CAACd,EAAhB,EAAoBe,WAApB,CAAX,CAAR;gBACApB,UAAU,CAAC,IAAD,CAAV;cACH,CAJ2B;cAK9B,SAAS,EAAEb,KAAK,CAACkC;YALa;cAAA;cAAA;cAAA;YAAA,QAPhC;UAAA,GAOQV,KAAK,CAACN,EAPd;YAAA;YAAA;YAAA;UAAA,QADJ,EAcKN,OAAO,KAAK,IAAZ,gBAAmB;YAAG,KAAK,EAAE;cAACuB,KAAK,EAAC;YAAP,CAAV;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAnB,gBAAoE,qCAdzE;QAAA,gBADA;MAkBH;IACJ,CArBA,CAFL;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA2BH,CA9CD;;GAAM/B,c;UACgBP,W,EACLA,W,EAQID,W;;;KAVfQ,c;AAgDN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}