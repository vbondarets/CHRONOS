{"ast":null,"code":"var _jsxFileName = \"/home/firemort/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Fullstack/CHRONOS/CHRONOS/clients/src/components/pages/Homepage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport dayjs from 'dayjs';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllEventByCalendar } from \"../../action/EventAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const event = useSelector(state => state.Event);\n  moment.updateLocale(moment.locale(), {\n    week: {\n      dow: 1\n    }\n  });\n  const [now, setNow] = useState(moment());\n  const [months, setMonths] = useState(now.month());\n  const [year, setYear] = useState(now.year());\n  const now_for_lastday = now.clone();\n  const now_for_startday = now.clone();\n  const lastday = now_for_lastday.endOf('month').endOf('week');\n  const startday = now_for_startday.startOf('month').startOf('week');\n  let day = startday.clone();\n  const calendar = [];\n  const value_of_calendar = [];\n\n  while (!day.isAfter(lastday)) {\n    calendar.push(day.date());\n    value_of_calendar.push(day.format('YYYY-MM-DD'));\n    day.add(1, 'day');\n  }\n\n  const month = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAllEventByCalendar(2));\n  }, [dispatch]);\n  let AllEvents = [];\n  AllEvents = event.events;\n\n  if (AllEvents === undefined) {\n    AllEvents = [];\n  }\n\n  console.log(AllEvents);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNow(now.subtract(1, 'month'));\n            setYear(now.year());\n            setMonths(now.month());\n          },\n          children: \"Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }, this), month[months] + year, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNow(now.add(1, 'month'));\n            setYear(now.year());\n            setMonths(now.month());\n          },\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: calendar.map((call, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            value: value_of_calendar[index],\n            children: [call, AllEvents.map(event => {\n              if (event.time.substring(0, 10) === value_of_calendar[index]) {\n                return /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: event.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 49\n                }, this);\n              }\n            })]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(HomePage, \"GglSGeIGGumt0VGD7g6AOf320UY=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","dayjs","moment","useDispatch","useSelector","getAllEventByCalendar","HomePage","event","state","Event","updateLocale","locale","week","dow","now","setNow","months","setMonths","month","year","setYear","now_for_lastday","clone","now_for_startday","lastday","endOf","startday","startOf","day","calendar","value_of_calendar","isAfter","push","date","format","add","dispatch","AllEvents","events","undefined","console","log","subtract","map","call","index","time","substring","title"],"sources":["/home/firemort/Рабочий стол/Fullstack/CHRONOS/CHRONOS/clients/src/components/pages/Homepage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport dayjs from 'dayjs';\nimport moment from 'moment'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllEventByCalendar } from \"../../action/EventAction\";\n\nconst HomePage = () => {\n    const event = useSelector(state => state.Event)\n\n    moment.updateLocale(moment.locale(),{week:{dow:1}})\n    const [now, setNow] = useState(moment())\n    const [months, setMonths] = useState(now.month())\n    const [year, setYear] = useState(now.year())\n\n    const now_for_lastday = now.clone()\n    const now_for_startday = now.clone()\n\n    const lastday = now_for_lastday.endOf('month').endOf('week')\n    const startday = now_for_startday.startOf('month').startOf('week')\n    let day = startday.clone()\n\n    const calendar = []\n    const value_of_calendar = []\n\n    while (!day.isAfter(lastday)) {\n        calendar.push(day.date())\n        value_of_calendar.push(day.format('YYYY-MM-DD'))\n        day.add(1,'day')\n    }\n\n    const month = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November','December']\n\n    const dispatch = useDispatch()\n    useEffect ( () => {\n        dispatch(getAllEventByCalendar(2))\n    }, [dispatch])\n    let AllEvents = []\n    AllEvents = event.events\n    if (AllEvents === undefined) {\n        AllEvents = []\n    }\n    console.log(AllEvents);\n    return (\n        <>\n            <div>\n                <p><button onClick={ () => {\n                        setNow(now.subtract(1,'month'))\n                        setYear(now.year())\n                        setMonths(now.month())\n                    }}>\n                    Prev</button>{month[months] +year} \n                    <button onClick={ () => {\n                        setNow(now.add(1,'month'))\n                        setYear(now.year())\n                        setMonths(now.month())\n                    }}>Next</button> </p>\n                    <ul>\n                        \n                        {calendar.map( (call,index) => {\n                            \n                            return(<li value = {value_of_calendar[index]} key={index}>{call}\n                                {AllEvents.map(event => {\n                                    if (event.time.substring(0,10) === value_of_calendar[index]) {\n                                        return (<ul><li>{event.title}</li></ul>)\n                                    }\n                                })}\n                            </li>)\n                        })}\n                    </ul>\n            </div>  \n        </>\n    )\n}\n\nexport default HomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}