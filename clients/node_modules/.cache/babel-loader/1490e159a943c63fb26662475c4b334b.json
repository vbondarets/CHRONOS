{"ast":null,"code":"import { getUser, registerUser, resetPass, resetToken } from '../api/AuthApi';\nimport { loginn } from '../api/AuthApi';\nimport Cookie from \"js-cookie\";\nexport const register = (login, full_name, email, password) => async dispatch => {\n  try {\n    const {\n      data\n    } = await registerUser(login, full_name, email, password);\n    console.log(data);\n    dispatch({\n      type: 'register',\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const loginUser = (login, password, email) => async dispatch => {\n  try {\n    if (!login || !password || !email) {\n      alert(\"Fill all required fields\");\n    }\n\n    const {\n      data\n    } = await loginn(email, login, password);\n    Cookie.set('token', data.token, {\n      expires: 7\n    });\n    dispatch({\n      type: 'login',\n      payload: data.token\n    });\n  } catch (e) {\n    alert(\"Check login, email or password\");\n  }\n};\nexport const tokenConfirm = (token, password) => async dispatch => {\n  try {\n    const {\n      data\n    } = await resetToken(token, password);\n    console.log(data);\n\n    if (data.message === 'Your password was changed') {\n      return dispatch({\n        type: 'tokenconfirm',\n        payload: 'Ok'\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const Reset_Password = email => async dispatch => {\n  try {\n    const {\n      data\n    } = await resetPass(email);\n\n    if (data.message === 'Email was sent') {\n      return dispatch({\n        type: 'resetpassword',\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getUser_by_id = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await getUser(id);\n    dispatch({\n      type: 'getuser_by_id',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["getUser","registerUser","resetPass","resetToken","loginn","Cookie","register","login","full_name","email","password","dispatch","data","console","log","type","payload","error","loginUser","alert","set","token","expires","e","tokenConfirm","message","Reset_Password","getUser_by_id","id","result"],"sources":["/home/firemort/Рабочий стол/Fullstack/back-front/idashchenk/clients/src/action/AuthAction.js"],"sourcesContent":["import { getUser, registerUser, resetPass, resetToken } from '../api/AuthApi'\nimport {loginn} from '../api/AuthApi'\nimport Cookie from \"js-cookie\"\nexport const register = (login,full_name, email,password) => async(dispatch) => {\n    try {\n        const {data} = await registerUser(login,full_name, email,password)\n        console.log(data);\n        dispatch({type:'register', payload: data})   \n    } catch (error) {\n        console.log(error);\n    } \n}\n\nexport const loginUser = (login,password,email) => async (dispatch) => {\n    try {\n        if (!login || !password || !email) {alert(\"Fill all required fields\")}\n        const {data} = await loginn(email,login,password)\n        Cookie.set('token', data.token,{expires:7})\n        dispatch({type:'login', payload:data.token})\n    } catch (e) {\n        alert(\"Check login, email or password\")\n    }\n}\n\nexport const tokenConfirm = (token, password) => async(dispatch) => {\n    try {\n        const {data} = await resetToken(token, password)\n        console.log(data);\n        if (data.message === 'Your password was changed') {\n            return dispatch ({type:'tokenconfirm', payload:'Ok'})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const Reset_Password = (email) => async(dispatch) => {\n    try {\n        const {data} = await resetPass(email)\n        if (data.message === 'Email was sent') {\n            return dispatch({type: 'resetpassword', payload:data.message})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getUser_by_id = (id) => async (dispatch) => {\n    try {\n        const {data} = await getUser(id)\n        dispatch({type:'getuser_by_id', payload:data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}