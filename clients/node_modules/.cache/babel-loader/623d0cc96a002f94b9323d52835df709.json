{"ast":null,"code":"import { getAllU, getUserById, updateAva, updateinfo } from \"../api/UserApi\";\nexport const getUser = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await getUserById(id);\n    return dispatch({\n      type: 'getUser',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getAllUsers = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await getAllU();\n    return dispatch({\n      type: 'getAllUsers',\n      payload: data.result\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const UpdateUser = (id, login, email, full_name, password, avatar, role) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateinfo(id, login, email, full_name, password, avatar, role);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getUserById(id);\n      return dispatch({\n        type: 'updateUser',\n        payload: Data.data.result\n      });\n    }\n\n    console.log(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const UpdateAvatar = (id, photo) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateAva(id, photo);\n\n    if (data.result.affectedRows > 0) {\n      const Data = await getUserById(id);\n      return dispatch({\n        type: 'updateAvatar',\n        payload: Data.data.result\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["getAllU","getUserById","updateAva","updateinfo","getUser","id","dispatch","data","type","payload","result","error","console","log","getAllUsers","UpdateUser","login","email","full_name","password","avatar","role","affectedRows","Data","UpdateAvatar","photo"],"sources":["/home/firemort/Рабочий стол/Fullstack/back-front/idashchenk/clients/src/action/UserAction.js"],"sourcesContent":["import { getAllU, getUserById, updateAva, updateinfo } from \"../api/UserApi\"\n\nexport const getUser = (id) => async(dispatch) => {\n    try {\n        const {data} = await getUserById(id)\n        return dispatch({type:'getUser', payload:data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getAllUsers = () => async(dispatch) => {\n    try {\n        const {data} = await getAllU()\n        return dispatch({type:'getAllUsers', payload: data.result})\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const UpdateUser = (id,login,email,full_name,password,avatar,role) => async(dispatch) => {\n    try {\n        const {data} = await updateinfo(id,login,email,full_name,password,avatar,role)\n        if (data.result.affectedRows > 0) {\n            const Data = await getUserById(id)\n            return dispatch({type:'updateUser', payload:Data.data.result})\n        }\n        console.log(data);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const UpdateAvatar = (id, photo) => async(dispatch) => {\n    try {\n        const {data} = await updateAva(id, photo)\n        if (data.result.affectedRows > 0) {\n            const Data = await getUserById(id)\n            return dispatch({type:'updateAvatar', payload:Data.data.result})\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,WAAlB,EAA+BC,SAA/B,EAA0CC,UAA1C,QAA4D,gBAA5D;AAEA,OAAO,MAAMC,OAAO,GAAIC,EAAD,IAAQ,MAAMC,QAAN,IAAmB;EAC9C,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMN,WAAW,CAACI,EAAD,CAAhC;IACA,OAAOC,QAAQ,CAAC;MAACE,IAAI,EAAC,SAAN;MAAiBC,OAAO,EAACF,IAAI,CAACG;IAA9B,CAAD,CAAf;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAPM;AASP,OAAO,MAAMG,WAAW,GAAG,MAAM,MAAMR,QAAN,IAAmB;EAChD,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMP,OAAO,EAA5B;IACA,OAAOM,QAAQ,CAAC;MAACE,IAAI,EAAC,aAAN;MAAqBC,OAAO,EAAEF,IAAI,CAACG;IAAnC,CAAD,CAAf;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAPM;AASP,OAAO,MAAMI,UAAU,GAAG,CAACV,EAAD,EAAIW,KAAJ,EAAUC,KAAV,EAAgBC,SAAhB,EAA0BC,QAA1B,EAAmCC,MAAnC,EAA0CC,IAA1C,KAAmD,MAAMf,QAAN,IAAmB;EAC5F,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMJ,UAAU,CAACE,EAAD,EAAIW,KAAJ,EAAUC,KAAV,EAAgBC,SAAhB,EAA0BC,QAA1B,EAAmCC,MAAnC,EAA0CC,IAA1C,CAA/B;;IACA,IAAId,IAAI,CAACG,MAAL,CAAYY,YAAZ,GAA2B,CAA/B,EAAkC;MAC9B,MAAMC,IAAI,GAAG,MAAMtB,WAAW,CAACI,EAAD,CAA9B;MACA,OAAOC,QAAQ,CAAC;QAACE,IAAI,EAAC,YAAN;QAAoBC,OAAO,EAACc,IAAI,CAAChB,IAAL,CAAUG;MAAtC,CAAD,CAAf;IACH;;IACDE,OAAO,CAACC,GAAR,CAAYN,IAAZ;EACH,CAPD,CAOE,OAAOI,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAXM;AAaP,OAAO,MAAMa,YAAY,GAAG,CAACnB,EAAD,EAAKoB,KAAL,KAAe,MAAMnB,QAAN,IAAmB;EAC1D,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAML,SAAS,CAACG,EAAD,EAAKoB,KAAL,CAA9B;;IACA,IAAIlB,IAAI,CAACG,MAAL,CAAYY,YAAZ,GAA2B,CAA/B,EAAkC;MAC9B,MAAMC,IAAI,GAAG,MAAMtB,WAAW,CAACI,EAAD,CAA9B;MACA,OAAOC,QAAQ,CAAC;QAACE,IAAI,EAAC,cAAN;QAAsBC,OAAO,EAACc,IAAI,CAAChB,IAAL,CAAUG;MAAxC,CAAD,CAAf;IACH;EACJ,CAND,CAME,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH;AACJ,CAVM"},"metadata":{},"sourceType":"module"}